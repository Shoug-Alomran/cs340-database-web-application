<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Healthcare Appointment System</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{
      font-family:"Times New Roman",serif;
      background:linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      padding:40px 20px;
    }
    .container{
      background:#fff;
      border-radius:8px;
      padding:40px;
      box-shadow:0 4px 20px rgba(0,0,0,.1);
      max-width:1750px;
      width:100%;
    }
    .header{
      text-align:center;
      margin-bottom:28px;
      border-bottom:2px solid #333;
      padding-bottom:14px;
    }
    .header h1{font-size:28px;font-weight:bold}

    svg{width:100%;height:auto;display:block}

    .entity{fill:#4a90e2;stroke:#2c5aa0;stroke-width:2}
    .relationship{fill:#50c878;stroke:#2d7a4f;stroke-width:2}
    .attribute{fill:#ffd700;stroke:#cc9900;stroke-width:1.5}

    .line{stroke:#5a5a5a;stroke-width:1.5;fill:none}
    .double-line{stroke:#e74c3c;stroke-width:1.5;fill:none}

    .entity-text{font-size:16px;font-weight:bold;fill:#fff}
    .relationship-text{font-size:14px;fill:#fff;text-transform:uppercase}
    .attribute-text{font-size:13px;fill:#000}
    .underline{text-decoration:underline;font-weight:bold}
    .cardinality-text{font-size:15px;font-weight:bold;fill:#e74c3c}
    .small{font-size:12px;fill:#444;font-style:italic}

    /* weak entity / identifying rel / partial key */
    .weak-entity-outer{fill:#9b59b6;stroke:#6c3483;stroke-width:2}
    .weak-entity-inner{fill:none;stroke:#6c3483;stroke-width:2}
    .weak-rel-outer{fill:#e67e22;stroke:#d35400;stroke-width:2}
    .weak-rel-inner{fill:none;stroke:#d35400;stroke-width:2}
    .partial-underline{stroke:#000;stroke-width:1.2;stroke-dasharray:4 3}
  </style>
</head>

<body>
<div class="container">
  <div class="header">
    <h1>User & Access Control System</h1>
  </div>

  <svg viewBox="0 0 1700 1200" xmlns="http://www.w3.org/2000/svg">

    <!-- ================== USER ENTITY (LEFT) ================== -->
    <rect x="120" y="250" width="260" height="70" class="entity"/>
    <text x="250" y="292" text-anchor="middle" class="entity-text">USER</text>

    <ellipse cx="120" cy="160" rx="50" ry="18" class="attribute"/>
    <text x="120" y="165" text-anchor="middle" class="attribute-text"><tspan class="underline">user_id</tspan></text>
    <line x1="145" y1="175" x2="200" y2="250" class="line"/>

    <ellipse cx="250" cy="145" rx="55" ry="18" class="attribute"/>
    <text x="250" y="150" text-anchor="middle" class="attribute-text">email</text>
    <line x1="250" y1="163" x2="250" y2="250" class="line"/>

    <ellipse cx="390" cy="160" rx="60" ry="18" class="attribute"/>
    <text x="390" y="165" text-anchor="middle" class="attribute-text">full_name</text>
    <line x1="365" y1="175" x2="320" y2="250" class="line"/>

    <ellipse cx="520" cy="230" rx="65" ry="18" class="attribute"/>
    <text x="520" y="235" text-anchor="middle" class="attribute-text">password_hash</text>
    <line x1="455" y1="230" x2="380" y2="285" class="line"/>

    <!-- ================== ASSIGNED_TO RELATIONSHIP ================== -->
    <polygon points="740,255 800,310 740,365 680,310" class="relationship"/>
    <text x="740" y="305" text-anchor="middle" class="relationship-text">ASSIGNED</text>
    <text x="740" y="323" text-anchor="middle" class="relationship-text">TO</text>

    <line x1="380" y1="285" x2="680" y2="310" class="line"/>
    <line x1="380" y1="291" x2="680" y2="316" class="double-line"/>

    <text x="515" y="276" class="cardinality-text">(1,1)</text>
    <text x="945" y="292" class="cardinality-text">(0,N)</text>

    <!-- ================== ROLE ENTITY (TOP RIGHT) ================== -->
    <rect x="1120" y="150" width="230" height="70" class="entity"/>
    <text x="1235" y="192" text-anchor="middle" class="entity-text">ROLE</text>

    <ellipse cx="1120" cy="90" rx="50" ry="18" class="attribute"/>
    <text x="1120" y="95" text-anchor="middle" class="attribute-text"><tspan class="underline">role_id</tspan></text>
    <line x1="1145" y1="105" x2="1185" y2="150" class="line"/>

    <ellipse cx="1350" cy="90" rx="55" ry="18" class="attribute"/>
    <text x="1350" y="95" text-anchor="middle" class="attribute-text">role_name</text>
    <line x1="1330" y1="105" x2="1290" y2="150" class="line"/>

    <!-- serial_no belongs ONLY to ROLE -->
    <ellipse cx="1235" cy="55" rx="55" ry="18" class="attribute"/>
    <text x="1235" y="60" text-anchor="middle" class="attribute-text"><tspan class="underline">serial_no</tspan></text>
    <line x1="1235" y1="73" x2="1235" y2="150" class="line"/>

    <line x1="800" y1="310" x2="1120" y2="185" class="line"/>

    <!-- ================== ROLE SPECIALIZATION (DISJOINT + TOTAL) ================== -->
    <circle cx="1235" cy="285" r="18" fill="#ff6b6b" stroke="#c92a2a" stroke-width="2"/>
    <text x="1235" y="291" text-anchor="middle" style="font-size:14px;font-weight:bold;fill:#fff;">d</text>

    <line x1="1235" y1="220" x2="1235" y2="267" class="line"/>
    <line x1="1241" y1="220" x2="1241" y2="267" class="double-line"/>

    <rect x="980"  y="350" width="220" height="60" class="entity"/>
    <text x="1090" y="385" text-anchor="middle" class="entity-text">PATIENT</text>

    <rect x="1180" y="470" width="220" height="60" class="entity"/>
    <text x="1290" y="505" text-anchor="middle" class="entity-text">DOCTOR</text>

    <!-- ADMIN moved a bit LOWER/RIGHT to open space for attributes -->
    <rect x="1395" y="380" width="235" height="60" class="entity"/>
    <text x="1512" y="415" text-anchor="middle" class="entity-text">ADMIN</text>

    <line x1="1225" y1="300" x2="1110" y2="350" class="line"/>
    <line x1="1235" y1="303" x2="1290" y2="470" class="line"/>
    <line x1="1245" y1="300" x2="1510" y2="380" class="line"/>

    <!-- ================== PATIENT attributes (serial_no REMOVED) ================== -->
    <ellipse cx="900" cy="385" rx="45" ry="16" class="attribute"/>
    <text x="900" y="389" text-anchor="middle" class="attribute-text">DOB</text>
    <line x1="945" y1="385" x2="980" y2="385" class="line"/>

    <ellipse cx="900" cy="420" rx="45" ry="16" class="attribute"/>
    <text x="900" y="424" text-anchor="middle" class="attribute-text">gender</text>
    <line x1="945" y1="420" x2="980" y2="400" class="line"/>

    <ellipse cx="1080" cy="435" rx="70" ry="16" class="attribute"/>
    <text x="1080" y="439" text-anchor="middle" class="attribute-text">consent_status</text>
    <line x1="1080" y1="419" x2="1080" y2="410" class="line"/>

    <!-- ================== DOCTOR attributes (serial_no REMOVED) ================== -->
    <ellipse cx="1480" cy="585" rx="60" ry="16" class="attribute"/>
    <text x="1480" y="589" text-anchor="middle" class="attribute-text">clinic_name</text>
    <line x1="1380" y1="530" x2="1420" y2="585" class="line"/>

    <ellipse cx="1480" cy="525" rx="55" ry="16" class="attribute"/>
    <text x="1480" y="529" text-anchor="middle" class="attribute-text">specialty</text>
    <line x1="1425" y1="525" x2="1400" y2="510" class="line"/>

    <ellipse cx="1290" cy="565" rx="55" ry="16" class="attribute"/>
    <text x="1290" y="569" text-anchor="middle" class="attribute-text">license_no</text>
    <line x1="1290" y1="549" x2="1290" y2="530" class="line"/>

    <!-- ================== ADMIN attributes (serial_no REMOVED) ================== -->
    <!-- level (top-left above ADMIN) -->
    <ellipse cx="1460" cy="330" rx="45" ry="16" class="attribute"/>
    <text x="1460" y="334" text-anchor="middle" class="attribute-text">level</text>
    <line x1="1460" y1="346" x2="1460" y2="380" class="line"/>

    <!-- assigned_dept (top-right above ADMIN) -->
    <ellipse cx="1605" cy="330" rx="78" ry="16" class="attribute"/>
    <text x="1605" y="334" text-anchor="middle" class="attribute-text">assigned_dept</text>
    <line x1="1605" y1="346" x2="1605" y2="380" class="line"/>
    <text x="1600" y="300" class="small">(optional)</text>

    <!-- ================== IDENTIFYING RELATIONSHIP: GENERATES (double diamond) ================== -->
    <polygon points="680,690 740,745 680,800 620,745" class="weak-rel-outer"/>
    <polygon points="680,700 730,745 680,790 630,745" class="weak-rel-inner"/>
    <text x="680" y="750" text-anchor="middle" class="relationship-text">GENERATES</text>

    <polyline points="250,320 250,745 620,745" class="line"/>
    <text x="265" y="600" class="cardinality-text">(0,N)</text>

    <!-- ================== AUDIT_LOG WEAK ENTITY (double rectangle) ================== -->
    <rect x="1040" y="735" width="260" height="70" class="weak-entity-outer"/>
    <rect x="1046" y="741" width="248" height="58" class="weak-entity-inner"/>
    <text x="1170" y="777" text-anchor="middle" class="entity-text">AUDIT_LOG</text>

    <ellipse cx="1040" cy="680" rx="50" ry="18" class="attribute"/>
    <text x="1040" y="685" text-anchor="middle" class="attribute-text">log_id</text>
    <line x1="1021" y1="690" x2="1059" y2="690" class="partial-underline"/>
    <line x1="1065" y1="695" x2="1100" y2="735" class="line"/>

    <ellipse cx="1170" cy="665" rx="45" ry="18" class="attribute"/>
    <text x="1170" y="670" text-anchor="middle" class="attribute-text">action</text>
    <line x1="1170" y1="683" x2="1170" y2="735" class="line"/>

    <ellipse cx="1300" cy="680" rx="55" ry="18" class="attribute"/>
    <text x="1300" y="685" text-anchor="middle" class="attribute-text">timestamp</text>
    <line x1="1275" y1="695" x2="1230" y2="735" class="line"/>

    <text x="1005" y="735" class="cardinality-text">(1,1)</text>
    <polyline points="740,745 900,730 1040,735" class="line"/>
    <polyline points="740,751 900,736 1040,741" class="double-line"/>
    <line x1="1028" y1="734" x2="1040" y2="735" class="line"/>
    <line x1="1028" y1="740" x2="1040" y2="741" class="double-line"/>
    <text x="860" y="720" class="cardinality-text">N</text>

  </svg>
</div>
</body>
</html>